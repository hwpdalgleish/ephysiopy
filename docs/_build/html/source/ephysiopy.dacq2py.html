

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ephysiopy.dacq2py package &mdash; ephysiopy 1.5.77 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ephysiopy.ephys_generic package" href="ephysiopy.ephys_generic.html" />
    <link rel="prev" title="ephysiopy package" href="ephysiopy.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ephysiopy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">Synopsis</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#code-example">Code Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#motivation">Motivation</a></li>
<li class="toctree-l1"><a class="reference internal" href="readme.html#contributors">Contributors</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="ephysiopy.html">ephysiopy package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ephysiopy.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">ephysiopy.dacq2py package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-ephysiopy.dacq2py.axonaIO">ephysiopy.dacq2py.axonaIO module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-ephysiopy.dacq2py.cluster">ephysiopy.dacq2py.cluster module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-ephysiopy.dacq2py.dacq2py_util">ephysiopy.dacq2py.dacq2py_util module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-ephysiopy.dacq2py.spikecalcs">ephysiopy.dacq2py.spikecalcs module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-ephysiopy.dacq2py.tetrode_dict">ephysiopy.dacq2py.tetrode_dict module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-ephysiopy.dacq2py.tintcolours">ephysiopy.dacq2py.tintcolours module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-ephysiopy.dacq2py">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ephysiopy.ephys_generic.html">ephysiopy.ephys_generic package</a></li>
<li class="toctree-l3"><a class="reference internal" href="ephysiopy.format_converters.html">ephysiopy.format_converters package</a></li>
<li class="toctree-l3"><a class="reference internal" href="ephysiopy.openephys2py.html">ephysiopy.openephys2py package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ephysiopy.html#module-ephysiopy">Module contents</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ephysiopy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="ephysiopy.html">ephysiopy package</a> &raquo;</li>
        
      <li>ephysiopy.dacq2py package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/ephysiopy.dacq2py.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ephysiopy-dacq2py-package">
<h1>ephysiopy.dacq2py package<a class="headerlink" href="#ephysiopy-dacq2py-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ephysiopy.dacq2py.axonaIO">
<span id="ephysiopy-dacq2py-axonaio-module"></span><h2>ephysiopy.dacq2py.axonaIO module<a class="headerlink" href="#module-ephysiopy.dacq2py.axonaIO" title="Permalink to this headline">¶</a></h2>
<p>Classes and methods for working with Axona electrophysiological
recording data.</p>
<dl class="class">
<dt id="ephysiopy.dacq2py.axonaIO.EEG">
<em class="property">class </em><code class="sig-prename descclassname">ephysiopy.dacq2py.axonaIO.</code><code class="sig-name descname">EEG</code><span class="sig-paren">(</span><em class="sig-param">filename_root</em>, <em class="sig-param">eeg_file=1</em>, <em class="sig-param">egf=0</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.EEG" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ephysiopy.dacq2py.axonaIO.IO" title="ephysiopy.dacq2py.axonaIO.IO"><code class="xref py py-class docutils literal notranslate"><span class="pre">ephysiopy.dacq2py.axonaIO.IO</span></code></a></p>
<p>Processes eeg data collected with the Axona recording system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename_root</strong> (<em>str</em>) – The fully qualified filename without the suffix</p></li>
<li><p><strong>egf</strong> (<em>eeg_file</em><em>,</em>) – Whether to read the ‘eeg’ file or the ‘egf’ file. 0 is False, 1 is True</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.EEG.eegfilter">
<code class="sig-name descname">eegfilter</code><span class="sig-paren">(</span><em class="sig-param">E=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.EEG.eegfilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter the LFP signal</p>
<p>Filters the eeg using a 251-tap bandpass (6-12Hz) blackman filter
between the values given in x1 and x2: defaults to filtering between theta
frequency (6-12Hz)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>E</strong> (<em>ndarray</em>) – The LFP signal</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>filtEEG</strong> – The filtered LFP signal</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.EEG.nextpow2">
<code class="sig-name descname">nextpow2</code><span class="sig-paren">(</span><em class="sig-param">val</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.EEG.nextpow2" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the next power of 2 that will hold val</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>val</strong> (<em>int</em>) – The value to find the next power of 2 of</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out</strong> – The next power of 2 that contains val</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.EEG.thetaAmpPhase">
<code class="sig-name descname">thetaAmpPhase</code><span class="sig-paren">(</span><em class="sig-param">fx=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.EEG.thetaAmpPhase" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the amplitude and instantaneous frequency of the LFP</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fs</strong> (<em>ndarray</em>) – The filtered LFP signal, typically filtered using eegfilter()</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ephysiopy.dacq2py.axonaIO.IO">
<em class="property">class </em><code class="sig-prename descclassname">ephysiopy.dacq2py.axonaIO.</code><code class="sig-name descname">IO</code><span class="sig-paren">(</span><em class="sig-param">filename_root=''</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.IO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Axona data I/O. Also reads .clu files generated from KlustaKwik</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename_root</strong> (<em>str</em>) – The fully-qualified filename</p>
</dd>
</dl>
<dl class="attribute">
<dt id="ephysiopy.dacq2py.axonaIO.IO.axona_files">
<code class="sig-name descname">axona_files</code><em class="property"> = {'.1': [('ts', '&gt;i'), ('waveform', '50b')], '.10': [('ts', '&gt;i'), ('waveform', '50b')], '.11': [('ts', '&gt;i'), ('waveform', '50b')], '.12': [('ts', '&gt;i'), ('waveform', '50b')], '.13': [('ts', '&gt;i'), ('waveform', '50b')], '.14': [('ts', '&gt;i'), ('waveform', '50b')], '.15': [('ts', '&gt;i'), ('waveform', '50b')], '.16': [('ts', '&gt;i'), ('waveform', '50b')], '.2': [('ts', '&gt;i'), ('waveform', '50b')], '.3': [('ts', '&gt;i'), ('waveform', '50b')], '.4': [('ts', '&gt;i'), ('waveform', '50b')], '.5': [('ts', '&gt;i'), ('waveform', '50b')], '.6': [('ts', '&gt;i'), ('waveform', '50b')], '.7': [('ts', '&gt;i'), ('waveform', '50b')], '.8': [('ts', '&gt;i'), ('waveform', '50b')], '.9': [('ts', '&gt;i'), ('waveform', '50b')], '.eeg': [('eeg', '=b')], '.eeg2': [('eeg', '=b')], '.egf': [('eeg', 'int16')], '.egf2': [('eeg', 'int16')], '.inp': [('ts', '&gt;i4'), ('type', '&gt;b'), ('value', '&gt;2b')], '.log': [('state', 'S3'), ('ts', '&gt;i')], '.pos': [('ts', '&gt;i'), ('pos', '&gt;8h')], '.stm': [('ts', '&gt;i')]}</em><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.IO.axona_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.IO.getCluCut">
<code class="sig-name descname">getCluCut</code><span class="sig-paren">(</span><em class="sig-param">tet</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.IO.getCluCut" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a clu file and return as an array of integers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tet</strong> (<em>int</em>) – The tetrode the clu file relates to</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out</strong> – Data read from the clu file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.IO.getCut">
<code class="sig-name descname">getCut</code><span class="sig-paren">(</span><em class="sig-param">tet</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.IO.getCut" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the cut file as a list of integers</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tet</strong> (<em>int</em>) – The tetrode the cut file relates to</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out</strong> – The data read from the cut file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.IO.getData">
<code class="sig-name descname">getData</code><span class="sig-paren">(</span><em class="sig-param">filename_root</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.IO.getData" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the data part of an Axona data file i.e. from “data_start” to
“data_end”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input</strong> (<em>str</em>) – Fully qualified path name to the data file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>output</strong> – The data part of whatever file was fed in</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.IO.getEmptyHeader">
<em class="property">static </em><code class="sig-name descname">getEmptyHeader</code><span class="sig-paren">(</span><em class="sig-param">ftype: str</em><span class="sig-paren">)</span> &#x2192; dict<a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.IO.getEmptyHeader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.IO.getHeader">
<code class="sig-name descname">getHeader</code><span class="sig-paren">(</span><em class="sig-param">filename_root</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.IO.getHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads and returns the header of a specified data file as a dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename_root</strong> (<em>str</em>) – Fully qualified filename of Axona type</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>headerDict</strong> – key - value pairs of the header part of an Axona type file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.IO.getHeaderVal">
<code class="sig-name descname">getHeaderVal</code><span class="sig-paren">(</span><em class="sig-param">header</em>, <em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.IO.getHeaderVal" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a value from the header as an int</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>header</strong> (<em>dict</em>) – The header dictionary to read</p></li>
<li><p><strong>key</strong> (<em>str</em>) – The key to look up</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>value</strong> – The value of <cite>key</cite> as an int</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ephysiopy.dacq2py.axonaIO.IO.other_files">
<code class="sig-name descname">other_files</code><em class="property"> = {'.eeg': [('eeg', '=b')], '.eeg2': [('eeg', '=b')], '.egf': [('eeg', 'int16')], '.egf2': [('eeg', 'int16')], '.inp': [('ts', '&gt;i4'), ('type', '&gt;b'), ('value', '&gt;2b')], '.log': [('state', 'S3'), ('ts', '&gt;i')], '.pos': [('ts', '&gt;i'), ('pos', '&gt;8h')], '.stm': [('ts', '&gt;i')]}</em><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.IO.other_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.IO.setData">
<code class="sig-name descname">setData</code><span class="sig-paren">(</span><em class="sig-param">filename_root: str</em>, <em class="sig-param">data: numpy.array</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.IO.setData" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes Axona format data to the given filename</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename_root</strong> (<em>str</em>) – The fully qualified filename including the suffix</p></li>
<li><p><strong>data</strong> (<em>ndarray</em>) – The data that will be saved</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.IO.setHeader">
<code class="sig-name descname">setHeader</code><span class="sig-paren">(</span><em class="sig-param">filename_root: str</em>, <em class="sig-param">header: dict</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.IO.setHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes out the header to the specified file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename_root</strong> (<em>str</em>) – A fully qualified path to a file with the relevant suffix at
the end (e.g. “.set”, “.pos” or whatever)</p></li>
<li><p><strong>header</strong> (<em>dict</em>) – An empty version of which can be loaded using getEmptyHeader() above</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ephysiopy.dacq2py.axonaIO.IO.tetrode_files">
<code class="sig-name descname">tetrode_files</code><em class="property"> = {'.1': [('ts', '&gt;i'), ('waveform', '50b')], '.10': [('ts', '&gt;i'), ('waveform', '50b')], '.11': [('ts', '&gt;i'), ('waveform', '50b')], '.12': [('ts', '&gt;i'), ('waveform', '50b')], '.13': [('ts', '&gt;i'), ('waveform', '50b')], '.14': [('ts', '&gt;i'), ('waveform', '50b')], '.15': [('ts', '&gt;i'), ('waveform', '50b')], '.16': [('ts', '&gt;i'), ('waveform', '50b')], '.2': [('ts', '&gt;i'), ('waveform', '50b')], '.3': [('ts', '&gt;i'), ('waveform', '50b')], '.4': [('ts', '&gt;i'), ('waveform', '50b')], '.5': [('ts', '&gt;i'), ('waveform', '50b')], '.6': [('ts', '&gt;i'), ('waveform', '50b')], '.7': [('ts', '&gt;i'), ('waveform', '50b')], '.8': [('ts', '&gt;i'), ('waveform', '50b')], '.9': [('ts', '&gt;i'), ('waveform', '50b')]}</em><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.IO.tetrode_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ephysiopy.dacq2py.axonaIO.Pos">
<em class="property">class </em><code class="sig-prename descclassname">ephysiopy.dacq2py.axonaIO.</code><code class="sig-name descname">Pos</code><span class="sig-paren">(</span><em class="sig-param">filename_root</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Pos" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ephysiopy.dacq2py.axonaIO.IO" title="ephysiopy.dacq2py.axonaIO.IO"><code class="xref py py-class docutils literal notranslate"><span class="pre">ephysiopy.dacq2py.axonaIO.IO</span></code></a></p>
<p>Processs position data recorded with the Axona recording system</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename_root</strong> (<em>str</em>) – The basename of the file i.e mytrial as opposed to mytrial.pos</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Currently the only arg that does anything is ‘cm’ which will convert
the xy data to cm, assuming that the pixels per metre value has been
set correctly</p>
<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Pos.filterPos">
<code class="sig-name descname">filterPos</code><span class="sig-paren">(</span><em class="sig-param">filterDict</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Pos.filterPos" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters position data depending on the specified filter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filterDict</strong> (<em>dict</em>) – Contains the type(s) of filter to be used and the
range of values to filter for. Values are pairs specifying the range
of values to filter for NB can take multiple filters and iteratively apply them
legal values are:
* ‘dir’ - the directional range to filter for NB this can contain ‘w’,’e’,’s’ or ‘n’
* ‘speed’ - min and max speed to filter for
* ‘xrange’ - min and max values to filter x pos values
* ‘yrange’ - same as xrange but for y pos
* ‘time’ - the times to keep / remove specified in ms</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pos_index_to_keep</strong> – The position indices that should be kept</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Pos.interpNans">
<code class="sig-name descname">interpNans</code><span class="sig-paren">(</span><em class="sig-param">led_pos</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Pos.interpNans" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolates over missing values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>led_pos</strong> (<em>np.ma.MaskedArray</em>) – The LED positions</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>output</strong> – The smoothed, unmasked array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ma.MaskedArray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Pos.ledspeedFilter">
<code class="sig-name descname">ledspeedFilter</code><span class="sig-paren">(</span><em class="sig-param">led_pos</em>, <em class="sig-param">max_ppm_per_sample</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Pos.ledspeedFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filters for impossibly fast tracked points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>led_pos</strong> (<em>np.ma.MaskedArray</em>) – Masked led_pos array [x1,y1,x2,y2]</p></li>
<li><p><strong>max_ppm_per_sample</strong> (<em>int</em>) – The maximum distance (in pixels) that points are allowed to jump</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>led_pos</strong> – The filtered data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ma.MaskedArray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Pos.ledswapFilter">
<code class="sig-name descname">ledswapFilter</code><span class="sig-paren">(</span><em class="sig-param">led_pos</em>, <em class="sig-param">led_pix</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Pos.ledswapFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks for led swapping in 2-spot mode</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>led_pos</strong> (<em>np.ma.MaskedArray</em>) – Masked array of dims [4 x nPosSamples]</p></li>
<li><p><strong>led_pix</strong> (<em>np.ma.MaskedArray</em>) – The number of pixels tracked for each LED.
Has dimensions [2 x nPosSamples]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>swap_list</strong> – Array of swapped positions</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Pos.postprocesspos">
<code class="sig-name descname">postprocesspos</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Pos.postprocesspos" title="Permalink to this definition">¶</a></dt>
<dd><p>Post processes position data</p>
<p>Calls a few of the other methods in this class that deal with
led swaps, impossibly fast points etc</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Pos.ppm">
<em class="property">property </em><code class="sig-name descname">ppm</code><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Pos.ppm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ephysiopy.dacq2py.axonaIO.Stim">
<em class="property">class </em><code class="sig-prename descclassname">ephysiopy.dacq2py.axonaIO.</code><code class="sig-name descname">Stim</code><span class="sig-paren">(</span><em class="sig-param">filename_root</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Stim" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>, <a class="reference internal" href="#ephysiopy.dacq2py.axonaIO.IO" title="ephysiopy.dacq2py.axonaIO.IO"><code class="xref py py-class docutils literal notranslate"><span class="pre">ephysiopy.dacq2py.axonaIO.IO</span></code></a></p>
<p>Processes the stimulation data recorded using Axona</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename_root</strong> (<em>str</em>) – The fully qualified filename without the suffix</p>
</dd>
</dl>
<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Stim.getEEGIdx">
<code class="sig-name descname">getEEGIdx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Stim.getEEGIdx" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the EEG indices of the on events</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Stim.getEGFIdx">
<code class="sig-name descname">getEGFIdx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Stim.getEGFIdx" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the EGF indices of the on events</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Stim.getPosIdx">
<code class="sig-name descname">getPosIdx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Stim.getPosIdx" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the position indices of the on events</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Stim.getTS">
<code class="sig-name descname">getTS</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Stim.getTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the timestamps of the on events</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Stim.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">E</em>, <span class="optional">]</span><em class="sig-param">**F</em><span class="sig-paren">)</span> &#x2192; None.  Update D from dict/iterable E and F.<a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Stim.update" title="Permalink to this definition">¶</a></dt>
<dd><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
In either case, this is followed by: for k in F:  D[k] = F[k]</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ephysiopy.dacq2py.axonaIO.Tetrode">
<em class="property">class </em><code class="sig-prename descclassname">ephysiopy.dacq2py.axonaIO.</code><code class="sig-name descname">Tetrode</code><span class="sig-paren">(</span><em class="sig-param">filename_root</em>, <em class="sig-param">tetrode</em>, <em class="sig-param">volts=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Tetrode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ephysiopy.dacq2py.axonaIO.IO" title="ephysiopy.dacq2py.axonaIO.IO"><code class="xref py py-class docutils literal notranslate"><span class="pre">ephysiopy.dacq2py.axonaIO.IO</span></code></a>, <a class="reference internal" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs" title="ephysiopy.dacq2py.spikecalcs.SpikeCalcs"><code class="xref py py-class docutils literal notranslate"><span class="pre">ephysiopy.dacq2py.spikecalcs.SpikeCalcs</span></code></a></p>
<p>Processes tetrode files recorded with the Axona recording system</p>
<p>Mostly this class deals with interpolating tetrode and position timestamps
and getting indices for particular clusters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename_root</strong> (<em>str</em>) – The fully qualified name of the file without it’s suffix</p></li>
<li><p><strong>tetrode</strong> (<em>int</em>) – The number of the tetrode</p></li>
<li><p><strong>volts</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to convert the data values volts. Default True</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Tetrode.getClustIdx">
<code class="sig-name descname">getClustIdx</code><span class="sig-paren">(</span><em class="sig-param">cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Tetrode.getClustIdx" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the indices of the position samples corresponding to the cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cluster</strong> (<em>int</em>) – The cluster whose position indices we want</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pos_samples</strong> – The indices of the position samples, dtype is int</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Tetrode.getClustSpks">
<code class="sig-name descname">getClustSpks</code><span class="sig-paren">(</span><em class="sig-param">cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Tetrode.getClustSpks" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the waveforms of <cite>cluster</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cluster</strong> (<em>int</em>) – The cluster whose waveforms we want</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>waveforms</strong> – The waveforms on all 4 electrodes of the tgtrode so the shape of
the returned array is [nClusterSpikes, 4, 50]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Tetrode.getClustTS">
<code class="sig-name descname">getClustTS</code><span class="sig-paren">(</span><em class="sig-param">cluster=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Tetrode.getClustTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the timestamps for a cluster on the tetrode</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cluster</strong> (<em>int</em>) – The cluster whose timestamps we want</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>clustTS</strong> – The timestamps</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If None is supplied as input then all timestamps for all clusters
is returned i.e. getSpkTS() is called</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Tetrode.getPosSamples">
<code class="sig-name descname">getPosSamples</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Tetrode.getPosSamples" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the pos samples at which the spikes were captured</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Tetrode.getSpkTS">
<code class="sig-name descname">getSpkTS</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Tetrode.getSpkTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all the timestamps for all the spikes on the tetrode</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.axonaIO.Tetrode.getUniqueClusters">
<code class="sig-name descname">getUniqueClusters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.axonaIO.Tetrode.getUniqueClusters" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the unique clusters</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ephysiopy.dacq2py.cluster">
<span id="ephysiopy-dacq2py-cluster-module"></span><h2>ephysiopy.dacq2py.cluster module<a class="headerlink" href="#module-ephysiopy.dacq2py.cluster" title="Permalink to this headline">¶</a></h2>
<p>Clustering of data using KlustaKwik but only with data recorded using the Axona
recording system</p>
<dl class="class">
<dt id="ephysiopy.dacq2py.cluster.Kluster">
<em class="property">class </em><code class="sig-prename descclassname">ephysiopy.dacq2py.cluster.</code><code class="sig-name descname">Kluster</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">tet_num</em>, <em class="sig-param">feature_array</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.cluster.Kluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Runs KlustaKwik (KK) against data recorded on the Axona dacqUSB recording
system</p>
<dl class="method">
<dt id="ephysiopy.dacq2py.cluster.Kluster.get_mask">
<code class="sig-name descname">get_mask</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.cluster.Kluster.get_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a feature mask based on unused channels, eeg recordings etc
Loads the set file associated with the trial and creates two dicts
containing the mode on each channel and the channels which contain the
eeg recordings
keys and values for both dicts are in the form of ints NB mode is
numbered from 0 upwards but eeg_filter is from 1 upwards
The mode key/ value pair of the Axona .set file correspond to the
following values:
2 - eeg
5 - ref-sig
6 - grounded
The collectMask key in the Axona .set file corresponds to whether or
not a tetrode was kept in the recording - use this also to construct
the feature mask</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.cluster.Kluster.kluster">
<code class="sig-name descname">kluster</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.cluster.Kluster.kluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Using a .fet.n file this makes a system call to KlustaKwik (KK) which
clusters data and saves istributional ‘ + str(self.distribution)</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.cluster.Kluster.make_fet">
<code class="sig-name descname">make_fet</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.cluster.Kluster.make_fet" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and writes a .fet.n file for reading in  to KlustaKwik given
the array input a</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.cluster.Kluster.make_fmask">
<code class="sig-name descname">make_fmask</code><span class="sig-paren">(</span><em class="sig-param">feature_mask</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.cluster.Kluster.make_fmask" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a .fmask.n file for use in the new (01/09/14) KlustaKwik program
where n denotes tetrode id</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>feature_mask</strong> (<em>numpy.array</em>) – array of numbers between 0 and 1 (see above
description from github site)</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>From the github site:
“The .fmask file is a text file, every line of which is a vector of
length the number of features, in which 1 denotes unmasked and 0
denotes masked, and values between 0 and 1 indicate partial masking”</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ephysiopy.dacq2py.dacq2py_util">
<span id="ephysiopy-dacq2py-dacq2py-util-module"></span><h2>ephysiopy.dacq2py.dacq2py_util module<a class="headerlink" href="#module-ephysiopy.dacq2py.dacq2py_util" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial">
<em class="property">class </em><code class="sig-prename descclassname">ephysiopy.dacq2py.dacq2py_util.</code><code class="sig-name descname">Trial</code><span class="sig-paren">(</span><em class="sig-param">filename_root</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ephysiopy.dacq2py.axonaIO.IO" title="ephysiopy.dacq2py.axonaIO.IO"><code class="xref py py-class docutils literal notranslate"><span class="pre">ephysiopy.dacq2py.axonaIO.IO</span></code></a>, <a class="reference internal" href="ephysiopy.ephys_generic.html#ephysiopy.ephys_generic.gridcell.SAC" title="ephysiopy.ephys_generic.gridcell.SAC"><code class="xref py py-class docutils literal notranslate"><span class="pre">ephysiopy.ephys_generic.gridcell.SAC</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Provides methods to plot electrophysiology data acquired using the Axona DACQ recording system
and methods to extract some measures from that data</p>
<p>The actual loading of the data is done lazily i.e. only when you ask for
position data (say plotting the path the animal took in the trial) is the
position data actually loaded. The class also uses as attibutes several
instances of subpackages (binning.Ratemap for example) so that the code
could be made more modular.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename_root</strong> (<em>str</em>) – Absolute location on the filesystem of the set of files without a suffix</p>
</dd>
</dl>
<dl class="attribute">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.filename_root">
<code class="sig-name descname">filename_root</code><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.filename_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Absolute location on the filesystem of the set of files without a suffix</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.basename">
<code class="sig-name descname">basename</code><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.basename" title="Permalink to this definition">¶</a></dt>
<dd><p>Basename of the set of files without a suffix (everything after the last trailing slash)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.EEG">
<code class="sig-name descname">EEG</code><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.EEG" title="Permalink to this definition">¶</a></dt>
<dd><p>Containing data from .eeg file</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ephysiopy.dacq2py.axonaIO.EEG" title="ephysiopy.dacq2py.axonaIO.EEG">dacq2py.axonaIO.EEG</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.EGF">
<code class="sig-name descname">EGF</code><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.EGF" title="Permalink to this definition">¶</a></dt>
<dd><p>Containing data from .egf file</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ephysiopy.dacq2py.axonaIO.EEG" title="ephysiopy.dacq2py.axonaIO.EEG">dacq2py.axonaIO.EEG</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.STM">
<code class="sig-name descname">STM</code><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.STM" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains stimulation data (timestamps mostly) and header + some additions work done below</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ephysiopy.dacq2py.axonaIO.Stim" title="ephysiopy.dacq2py.axonaIO.Stim">dacq2py.axonaIO.Stim</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.POS">
<code class="sig-name descname">POS</code><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.POS" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains raw and post-processed position data (xy, dir, speed etc) &amp; header</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#ephysiopy.dacq2py.axonaIO.Pos" title="ephysiopy.dacq2py.axonaIO.Pos">dacq2py.axonaIO.Pos</a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.TETRODE">
<code class="sig-name descname">TETRODE</code><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.TETRODE" title="Permalink to this definition">¶</a></dt>
<dd><p>Each value is an instance of dacq2py.axonaIO.Tetrode. Contains methods to get cluster spike times, cluster indices etc</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>extension of Pythons dict</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.posFilter">
<code class="sig-name descname">posFilter</code><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.posFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Keys are things like ‘speed’, ‘time’; values are n x 2 arrays of range of values <em>to keep</em></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.setheader">
<code class="sig-name descname">setheader</code><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.setheader" title="Permalink to this definition">¶</a></dt>
<dd><p>Corresponds to the .set file for the file set. Keys/ values are all strings</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial._available_files">
<code class="sig-name descname">_available_files</code><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial._available_files" title="Permalink to this definition">¶</a></dt>
<dd><p>All files matching the filename_root + any valid suffix</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.metadata">
<code class="sig-name descname">metadata</code><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Some basic info if the file is an “rh” one (see _parseMetaData)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>collections.OrderedDict</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.ratemap">
<code class="sig-name descname">ratemap</code><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.ratemap" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dacq2py.ephys_generic.binning.Ratemap class instance</p>
</dd>
</dl>
</dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="ephysiopy.ephys_generic.html#module-ephysiopy.ephys_generic.binning" title="ephysiopy.ephys_generic.binning"><code class="xref py py-class docutils literal notranslate"><span class="pre">ephysiopy.ephys_generic.binning</span></code></a></dt><dd><p>Basic binning of data, calculation of bin sizes etc</p>
</dd>
<dt><a class="reference internal" href="ephysiopy.ephys_generic.html#module-ephysiopy.ephys_generic.eegcalcs" title="ephysiopy.ephys_generic.eegcalcs"><code class="xref py py-class docutils literal notranslate"><span class="pre">ephysiopy.ephys_generic.eegcalcs</span></code></a></dt><dd><p>Contains filters, eeg power spectra methods</p>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">ephysiopy.ephys_generic.spikecalcs</span></code></dt><dd><p>Temporal measures of spike trains and extracting parameters from waveforms and clusters</p>
</dd>
<dt><code class="xref py py-class docutils literal notranslate"><span class="pre">ephysiopy.ephys_generic.fieldcalcs</span></code></dt><dd><p>Methods for extracting information from 2D ratemaps</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dacq2py.dacq2py_util</span> <span class="kn">import</span> <span class="n">Trial</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="n">Trial</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;/media/robin/data/Dropbox/Science/Recordings/M851/M851_140908t1rh&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">EEG</code></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>eeg data and header</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#ephysiopy.dacq2py.axonaIO.EEG" title="ephysiopy.dacq2py.axonaIO.EEG">ephysiopy.dacq2py.axonaIO.EEG</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">EGF</code></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>eeg data and header from .egf file</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ephysiopy.dacq2py.axonaIO.EGF</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">POS</code></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Contains raw and post-processed position data</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ephysiopy.dacq2py.axonaIO.POS</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">STM</code></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Stimulation data and header + some extras parsed from pos, eeg and set files</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#ephysiopy.dacq2py.axonaIO.Stim" title="ephysiopy.dacq2py.axonaIO.Stim">ephysiopy.dacq2py.axonaIO.Stim</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.adjust_median_speed">
<code class="sig-name descname">adjust_median_speed</code><span class="sig-paren">(</span><em class="sig-param">min_speed=5</em>, <em class="sig-param">plot=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.adjust_median_speed" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_speed</strong> (<em>float</em>) – </p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.getBorderScore">
<code class="sig-name descname">getBorderScore</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em>, <em class="sig-param">debug=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.getBorderScore" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the border score in a similar way to how the Moser group did
but can also deal with circular environments as well as square ones</p>
<p>Wrapper for fieldcalcs getBorderScore - see there for docs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – </p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – </p></li>
<li><p><strong>debug</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">fieldcalcs.FieldCalcs.getBorderScore()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.getFieldRuns">
<code class="sig-name descname">getFieldRuns</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em>, <em class="sig-param">binsize=3</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.getFieldRuns" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts the runs through a place field of a given cluster on a given
tetrode and returns the indices of the runs that are kept (defaults to
at least 5 spikes needing to be fired) and the indices of the spikes in
the run and the duration of each run</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – </p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – </p></li>
<li><p><strong>binsize</strong> (<em>int</em>) – size of bins (cms)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data</strong> – The runs retained, the spikes in the run and the run duration</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.getFullFile">
<code class="sig-name descname">getFullFile</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.getFullFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to constuct filename_root in __init__</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The absolute path the files being analysed here without any suffix</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.getRasterHist">
<code class="sig-name descname">getRasterHist</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em>, <em class="sig-param">dt=(-50</em>, <em class="sig-param">100)</em>, <em class="sig-param">hist=True</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.getRasterHist" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the histogram of the raster of spikes during a series of events</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – </p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – </p></li>
<li><p><strong>dt</strong> (<em>tuple</em>) – the window of time in ms to examine zeroed on the event of interest
i.e. the first value will probably be negative as in the default example</p></li>
<li><p><strong>hist</strong> (<em>bool</em>) – not sure</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.getThetaModIdx">
<code class="sig-name descname">getThetaModIdx</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.getThetaModIdx" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the theta modulation index of a clusters autocorrelogram
as the difference between the first trough and second peak of the
autocorrelogram (actually the difference over their sum)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – The tetrode the cluster is on</p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – The cluster identity</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>thetaModulation</strong> – The depth of theta modulation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.getThetaModIdx2">
<code class="sig-name descname">getThetaModIdx2</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.getThetaModIdx2" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for thetaModIdxV2 in spikecalcs.py</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – The tetrode the cluster is on</p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – The cluster identity</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>thetaModulation</strong> – The depth of theta modulation</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.getThigmotaxisIndex">
<code class="sig-name descname">getThigmotaxisIndex</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.getThigmotaxisIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Currently fucked
Calculates the ratio of time spent in the middle of the environment
to the amount of time spent in the central part</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.getTsAndCs">
<code class="sig-name descname">getTsAndCs</code><span class="sig-paren">(</span><em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.getTsAndCs" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints out the available tetrodes and clusters</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.getcircR">
<code class="sig-name descname">getcircR</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.getcircR" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the mean resultant vector length of circular data
Unlike getmrv (above) this only returns the vector length. This is
calculated differently (using complex numbers) but is a) faster, b)
works with binned data and, c) plays nicer/ easier with shuffles of
the spike train</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – The tetrode to examine</p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – The cluster to examine</p></li>
<li><p><strong>**kwargs</strong> – Legal values of interest:
shuffle: int
the number of seconds to shift the spike train</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>r</strong> – the mean resultant vector length (range = 0-1)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.getcoherence">
<code class="sig-name descname">getcoherence</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em>, <em class="sig-param">binsize=3</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.getcoherence" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for fieldcalcs.coherence - see docs there</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.getkldiv">
<code class="sig-name descname">getkldiv</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em>, <em class="sig-param">binsize=3</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.getkldiv" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for fieldcalcs.kldiv - see there for explanation</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.getmrv">
<code class="sig-name descname">getmrv</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.getmrv" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the mean resultant vector length and direction for a given
cluster/ cell</p>
<p>A wrapper for statscalcs.Statscalcs.mean_resultant_vector (see
statscalcs.py)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – The tetrode to exmaine</p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – The cluster to examine</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>r</strong> (<em>float</em>) – the mean resultant vector length (range = 0-1)</p></li>
<li><p><strong>th</strong> (<em>float</em>) – the mean resultant vector direction (in radians)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.getskaggsInfo">
<code class="sig-name descname">getskaggsInfo</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em>, <em class="sig-param">binsize=3</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.getskaggsInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the Skagss information theory measure for the given cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – The tetrode to exmaine</p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – The cluster to examine</p></li>
<li><p><strong>binsize</strong> (<em>int</em>) – Size of bins in cms</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>bits per spike</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>binning could be over any single spatial variable (e.g. location, direction, speed).</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Wrapper()</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.hasFiles">
<code class="sig-name descname">hasFiles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.hasFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks for some automated yaml processing</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.klustakwik">
<code class="sig-name descname">klustakwik</code><span class="sig-paren">(</span><em class="sig-param">d</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.klustakwik" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls two methods below (kluster and getPC) to run klustakwik on
a given tetrode with nFet number of features (for the PCA)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em>) – Specifies the vector of features to be used in clustering.
Each key is the identity of a tetrode (i.e. 1, 2 etc)
and the values are the features used to do the clustering for that tetrode (i.e.
‘PC1’, ‘PC2’, ‘Amp’ (amplitude) etc</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotClusterSpace">
<code class="sig-name descname">plotClusterSpace</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">clusters=None</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">bins=256</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotClusterSpace" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the cluster space for the given tetrode</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – the tetrode cluster space to plot</p></li>
<li><p><strong>clusters</strong> (<em>int</em><em> or </em><em>list</em><em> or </em><em>np.array</em>) – the clusters to colour in</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.pyplot.axis</em>) – the axis to plot into</p></li>
<li><p><strong>bins</strong> (<em>int</em>) – the number of bins to use in the histogram</p></li>
<li><p><strong>**kwargs</strong> – can include a param keyword for the parameter to construct the
histogram from - this defaults to amplitude (‘Amp’) but can be any
valid key in the getParam method of the Tetrode class</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fig</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>handle to figure window</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotDirFilteredRmaps">
<code class="sig-name descname">plotDirFilteredRmaps</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em>, <em class="sig-param">maptype='rmap'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotDirFilteredRmaps" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots out directionally filtered ratemaps for the tetrode/ cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – </p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – </p></li>
<li><p><strong>maptype</strong> (<em>str</em>) – Valid values include ‘rmap’, ‘polar’, ‘xcorr’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotEEGPower">
<code class="sig-name descname">plotEEGPower</code><span class="sig-paren">(</span><em class="sig-param">E=None</em>, <em class="sig-param">eegType='eeg'</em>, <em class="sig-param">smthKernelSigma=0.1875</em>, <em class="sig-param">freqBand=(6</em>, <em class="sig-param">12)</em>, <em class="sig-param">outsideBand=(3</em>, <em class="sig-param">125)</em>, <em class="sig-param">s2nWdth=2</em>, <em class="sig-param">xmax=125</em>, <em class="sig-param">ymax=None</em>, <em class="sig-param">plot=True</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotEEGPower" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the eeg power spectrum. Annotates graph around theta frequency band.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E</strong> (<em>numpy.array</em>) – (Optional) numEEGSamples sized numpy array of raw eeg signal amplitude.</p></li>
<li><p><strong>eegType</strong> (<em>str</em>) – (Optional) Either ‘eeg’ or ‘egf’. The .eeg file type to use. Defaults to ‘eeg’</p></li>
<li><p><strong>smthKernelSigma</strong> (<em>float</em>) – (Optional) number of points in the output window for gaussian filtering of eeg. This
value is multipled by the binsPerHz which comes from the length of the fft (derived from nextpow2 for speed).</p></li>
<li><p><strong>freqBand</strong> (<em>two-tuple</em>) – (Optional) the theta-band to examine.</p></li>
<li><p><strong>outsideBand</strong> (<em>two-tuple</em>) – (Optional): frequencies outside these values are ignored. NOT IMPLEMENTED.</p></li>
<li><p><strong>s2nWdth</strong> (<em>int</em>) – (Optional) Determines the width of the window to calculate the signal-to-noise ratio.</p></li>
<li><p><strong>xmax</strong> (<em>int</em>) – (Optional) Maximum x-value (frequency) to plot to. Defaults to 125</p></li>
<li><p><strong>ymax</strong> (<em>int</em>) – (Optional) Maximum y-value to plot to. Defaults to None so plots full range</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – (Optional) Whether to produce a plot</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.pyplot.axis instance</em>) – (Optional) The axis to plot in to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ax</strong> – The axis containing the plot.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>matplotlib.pyplot.axis instance</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotEventEEGRange">
<code class="sig-name descname">plotEventEEGRange</code><span class="sig-paren">(</span><em class="sig-param">eeg_type='egf', stimTrials=[0, 1], ax=None, **kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotEventEEGRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls plot_event_eeg with defaults and no plotting and then plots out
a time period in seconds from x1 to x2 and overlays the correct time in
seconds on the x-axis - meant for manual inspection of the effect of
stimulation events on the eeg</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eeg_type</strong> (<em>str</em>) – either ‘egf’ or ‘eeg’ although probably no point
using ‘eeg’ as sample rate too low</p></li>
<li><p><strong>stimTrials</strong> (<em>list</em>) – the stimulation ‘trial’ to plot, starting at 0
NB stimulating every 150ms for 10ms for 20 minutes gets
you 8000 trials</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.axis</em>) – the axis to plot into. A new figure is
produced if this is None</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotFreqVSpeed">
<code class="sig-name descname">plotFreqVSpeed</code><span class="sig-paren">(</span><em class="sig-param">minSp=5</em>, <em class="sig-param">maxSp=50</em>, <em class="sig-param">spStep=5</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">laserFilter=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotFreqVSpeed" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots running speed vs eeg frequencies and does linear regression. Also adds position sample histogram
TODO: filter out negative frequencies - do this as default in EEG class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minSp</strong> (<em>int</em>) – speeds below this are ignored</p></li>
<li><p><strong>maxSp</strong> (<em>int</em>) – speeds above this are ignored</p></li>
<li><p><strong>spStep</strong> (<em>int</em>) – the bin width for speed</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.axes</em>) – the axes in which to plot</p></li>
<li><p><strong>laser</strong> (<em>int</em><em> or </em><em>None</em>) – whether to filter for laser on/ off events
None means no filtering at all; 1 means laser is on and data is filtered for on periods
0 means filter for laser off periods</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotFullSAC">
<code class="sig-name descname">plotFullSAC</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">clusters</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">binsize=3</em>, <em class="sig-param">limit2mask=False</em>, <em class="sig-param">plot=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotFullSAC" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the full SAC ie including the edges and colours the central area in colour
and the outlying bits (outside the mask area used to calculate gridness) in black and white</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – </p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – </p></li>
<li><p><strong>ax</strong> (<em>matplotlib.pyplot.axis</em>) – plots into this axis</p></li>
<li><p><strong>binsize</strong> (<em>int</em>) – size of bins (cms)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotMap">
<code class="sig-name descname">plotMap</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">clusters</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">var2bin='pos'</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotMap" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots a ratemap for a given tetrode and cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – The tetrode you want to look at</p></li>
<li><p><strong>cluster</strong> (<em>int</em><em> or </em><em>array_like</em>) – The cluster(s) to plot</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.Axes</em><em>, </em><em>optional</em>) – Defaults to None. Which axis to add the plot to; if None then a new figure window is produced</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>'bar'</strong> (<em>boolean</em>) – For use with directional data to produce a polar histogram plot</p></li>
<li><p><strong>'add_peak_rate'</strong> (<em>boolean</em>) – Adds the peak rate (to 2 decimal places) to the figure</p></li>
<li><p><strong>binsize</strong> (<em>int</em><em>, </em><em>optional</em>) – size of bins. Defaults to 3.</p></li>
<li><p><strong>smooth_sz</strong> (<em>the width of the smoothing kernel</em><em> (</em><em>see keyword args for more</em><em>)</em>) – var2bin: optional, defaults to ‘pos’. Which variable to bin.
Can be either ‘pos’, ‘dir’ or ‘speed’. Works with masked arrays</p></li>
<li><p><strong>smooth</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to True. Whether to smooth the data</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>ratemap</strong> – Dimensionality depends on if a directional (1d) or positional (2d) map was requested</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-meth docutils literal notranslate"><span class="pre">Wrapper()</span></code></p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">T</span> <span class="o">=</span> <span class="n">dacq2py_util</span><span class="o">.</span><span class="n">Trial</span><span class="p">(</span><span class="s1">&#39;M845_141003t1rh&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot the ratemap for cluster 1 on tetrode 1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="o">.</span><span class="n">plotMap</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Add the peak rate to the figure window</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="o">.</span><span class="n">plotMap</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">add_peak_rate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot the polar map for same cluster</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="o">.</span><span class="n">plotMap</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">var2bin</span><span class="o">=</span><span class="s1">&#39;dir&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot the unsmoothed dwell map for the trial</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">T</span><span class="o">.</span><span class="n">plotMap</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="n">smooth</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotPath">
<code class="sig-name descname">plotPath</code><span class="sig-paren">(</span><em class="sig-param">ax=None</em>, <em class="sig-param">clamp=False</em>, <em class="sig-param">label=False</em>, <em class="sig-param">applyStm=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the animals path during a trial. Default is to limit plot range
to the min/ max of x/y extent of path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>matplotlib.Axes</em>) – The axes to plot into. If none a new figure window is created</p></li>
<li><p><strong>clamp</strong> (<em>bool</em>) – whether the axes are clamped to self._xlims and self._ylims or not</p></li>
<li><p><strong>applyStm</strong> (<em>bool</em>) – Whether to overlay r crosses on the path where the laser events occurred</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotPhaseInField">
<code class="sig-name descname">plotPhaseInField</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotPhaseInField" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots theta phase of spikes in a place field (found using _getFieldLims)
as individual colours for each run through the field
TODO: broken
:param tetrode:
:type tetrode: int
:param cluster:
:type cluster: int
:param ax:
:type ax: matplotlib.Axes</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotPhaseOfFiring">
<code class="sig-name descname">plotPhaseOfFiring</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotPhaseOfFiring" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the phase of firing of a given cluster as a histogram</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – </p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – </p></li>
<li><p><strong>ax</strong> (<em>matplotlib.Axes</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotRaster">
<code class="sig-name descname">plotRaster</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">clusters</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">dt=(-50</em>, <em class="sig-param">100)</em>, <em class="sig-param">prc_max=0.5</em>, <em class="sig-param">ms_per_bin=1</em>, <em class="sig-param">histtype='count'</em>, <em class="sig-param">hist=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotRaster" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for _plotRaster allowing multiple clusters to be plotted in
separate figure windows</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – </p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – </p></li>
<li><p><strong>dt</strong> (<em>2-tuple</em>) – the window of time in ms to examine zeroed on the event of interest
i.e. the first value will probably be negative as in the default example</p></li>
<li><p><strong>prc_max</strong> (<em>float</em>) – the proportion of firing the cell has to ‘lose’ to count as
silent; a float between 0 and 1</p></li>
<li><p><strong>- matplotlib.Axes</strong> (<em>ax</em>) – the axes to plot into. If not provided a new figure is created</p></li>
<li><p><strong>ms_per_bin</strong> (<em>int</em>) – The number of milliseconds in each bin of the raster plot</p></li>
<li><p><strong>histtype</strong> (<em>str</em>) – either ‘count’ or ‘rate’ - the resulting histogram plotted above the raster plot will
consist of either the counts of spikes in ms_per_bin or the mean rate
in ms_per_bin</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotRateVSpeed">
<code class="sig-name descname">plotRateVSpeed</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em>, <em class="sig-param">minSpeed=0.0</em>, <em class="sig-param">maxSpeed=40.0</em>, <em class="sig-param">sigma=3.0</em>, <em class="sig-param">shuffle=False</em>, <em class="sig-param">nShuffles=100</em>, <em class="sig-param">plot=False</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">getShuffledData=False</em>, <em class="sig-param">getData=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotRateVSpeed" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the instantaneous firing rate of a cell against running speed
Also outputs a couple of measures as with Kropff et al., 2015; the
Pearsons correlation and the depth of modulation (dom) - see below for
details</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – the tetrode to use</p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – the cluster to use</p></li>
<li><p><strong>minSpeed</strong> (<em>float</em>) – speeds below this value are masked and not used</p></li>
<li><p><strong>maxSpeed</strong> (<em>float</em>) – speeds above this value are masked and not used</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – the standard deviation of the gaussian used to smooth the spike
train</p></li>
<li><p><strong>shuffle</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to calculate the significance of the speed score or not
This is done by calculating the correlation between speed and
the shuffled spike train for nShuffles where the shuffles are only allowed with the
window (trial_start + minTime) : (trial_end - minTime). Default is
30 seconds as with Kropff et al., 2015. Default False</p></li>
<li><p><strong>nShuffles</strong> (<em>int</em>) – How many times to perform the shuffle. Defaults to 100 as with
Kropff et al., 2015</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – Whether to plot output or not. Defaults to False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotRollingCorrRateVSpeed">
<code class="sig-name descname">plotRollingCorrRateVSpeed</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">cluster</em>, <em class="sig-param">minSpeed=2.0</em>, <em class="sig-param">sigma=3.0</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotRollingCorrRateVSpeed" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the rolling correlation of instantaneous firing rate of a given
cell against running speed</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – </p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – </p></li>
<li><p><strong>minSpeed</strong> (<em>float</em>) – </p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – The width of the smoothing kernel applied to the spike train to smooth it</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotSAC">
<code class="sig-name descname">plotSAC</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">clusters</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">binsize=3</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotSAC" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the spatial autocorrelogram of the given tetrode/ cluster</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – </p></li>
<li><p><strong>cluster</strong> (<em>int</em>) – </p></li>
<li><p><strong>ax</strong> (<em>matplotlib.pyplot.axis</em>) – plots into this axis</p></li>
<li><p><strong>binsize</strong> (<em>int</em>) – size of bins (cms)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotSpectrogram">
<code class="sig-name descname">plotSpectrogram</code><span class="sig-paren">(</span><em class="sig-param">eegType='eeg'</em>, <em class="sig-param">ymin=0</em>, <em class="sig-param">ymax=50</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">secsPerBin=2</em>, <em class="sig-param">laser=False</em>, <em class="sig-param">width=0.125</em>, <em class="sig-param">dip=15.0</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotSpectrogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots a spectrogram of the LFP of the whole trial</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eegType</strong> (<em>str</em>) – Whether to do use .eeg file or .egf file. Defaults to eeg</p></li>
<li><p><strong>/ ymax</strong> (<em>ymin</em>) – Minimum/ maximum frequency (y-axis) to plot</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.pyplot.axis</em><em>]</em>) – Which axis to add the plot to. If None a new figure window is produced</p></li>
<li><p><strong>secsPerBin</strong> (<em>int</em>) – Size of the x-axis bins</p></li>
<li><p><strong>laser</strong> (<em>bool</em>) – Whether to filter the eeg for laser stimulation events</p></li>
<li><p><strong>dip</strong> (<em>width/</em>) – Parameters for Kaisser filter in eegcalcs.EEGCalcs - see there
for definition</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Plots the spectrogram</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotSpikesOnPath">
<code class="sig-name descname">plotSpikesOnPath</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">clusters</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">clamp=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotSpikesOnPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the spikes on the path during a trial for a particular tetrode/
cluster(s)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – the tetrode you want to look at</p></li>
<li><p><strong>cluster</strong> (<em>int</em><em>, </em><em>1xn array/ list</em>) – a single number or list (or 1xn array) of the clusters to plot</p></li>
<li><p><strong>clamp</strong> (<em>bool</em><em>, </em><em>optional</em>) – whether to restrict the plot to the self._xlims and self_ylims
property</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.Axes</em>) – defaults to None. Which axis to add the plot to.
If None a new figure window is produced</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotWaveforms">
<code class="sig-name descname">plotWaveforms</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">clusters</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotWaveforms" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots spike waveforms on all four wires for a given tetrode/ cluster
The units for the plots are <em>real</em> in the sense that the x-axis is in
ms and the y-axis is in micro-volts. The axes limits are set up so the
ratio between the x and y axes is 100</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – </p></li>
<li><p><strong>clusters</strong> (<em>int</em><em> or </em><em>list</em>) – </p></li>
<li><p><strong>ax</strong> (<em>matplotlib.Axes</em>) – the axes to plot into. If None a new figure window is created.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plotXCorr">
<code class="sig-name descname">plotXCorr</code><span class="sig-paren">(</span><em class="sig-param">tetrode</em>, <em class="sig-param">clusters</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">Trange=(-500</em>, <em class="sig-param">500)</em>, <em class="sig-param">bins=None</em>, <em class="sig-param">annotate=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plotXCorr" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the temporal autocorrelogram (defaults to +/- 500ms)
TODO: needs to be able to take in two tetrodes &amp; make sure Trange in ms</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tetrode</strong> (<em>int</em>) – </p></li>
<li><p><strong>clusters</strong> (<em>int</em><em> or </em><em>list</em>) – </p></li>
<li><p><strong>ax</strong> (<em>matplotlib.Axes</em>) – The axes to plot into. If None a new figure window is created</p></li>
<li><p><strong>TRange</strong> (<em>two-tuple</em>) – The range over which to examine the events. Zero time is the occurance of the event</p></li>
<li><p><strong>bins</strong> (<em>int</em>) – The number of bins to assign the data to</p></li>
<li><p><strong>annotate</strong> (<em>bool</em>) – Whether to add the cluster identities to the figure axis</p></li>
<li><p><strong>**kwargs</strong> – if ‘add_peak_rate’ is in the kwargs then that is also added to the axes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.plot_event_EEG">
<code class="sig-name descname">plot_event_EEG</code><span class="sig-paren">(</span><em class="sig-param">eeg_type='egf'</em>, <em class="sig-param">dt=(-50</em>, <em class="sig-param">100)</em>, <em class="sig-param">plot=True</em>, <em class="sig-param">ax=None</em>, <em class="sig-param">evenOnsets=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.plot_event_EEG" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots out the eeg record following an ‘on’ event in the log file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>eeg_type</strong> (<em>str</em>) – either ‘eeg’ or ‘egf’</p></li>
<li><p><strong>dt</strong> (<em>tuple</em>) – time to look before and after an onset event</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – whether to plot the stimulus-triggered-eeg</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.axis</em>) – will plot into this axis if supplied
(new figure produced if plot is None and ax is None)</p></li>
<li><p><strong>evenOnsets</strong> (<em>bool</em>) – if True assume there is supposed to be an even
difference between the events in the .stm file. If events are
found that have an uneven difference they are thrown out.
NB The difference is calculated from information gleaned from
the trial.STM field. If False this is ignored.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">posFilter</code></dt>
<dd><p>dict
Keys are strings such as ‘speed’, ‘time’ etc. Values are n x 2 arrays of values <em>to keep</em></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>self.posFilter</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.ppm">
<em class="property">property </em><code class="sig-name descname">ppm</code><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.ppm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.print_stim_dict">
<code class="sig-name descname">print_stim_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.print_stim_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints out keys/ values of STM dict</p>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">setheader</code></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>dict</strong> – Matches contents of .set file with keys and values all mapped as strings</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>setheader</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.dacq2py_util.Trial.tortuosity">
<code class="sig-name descname">tortuosity</code><span class="sig-paren">(</span><em class="sig-param">xy=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.dacq2py_util.Trial.tortuosity" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>- numpy.array</strong> (<em>xy</em>) – 2xm matrix of xy positions. Default is None so will use this
instances xy array in POS</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tortuosity</strong> – tortuosity index calculated as follows:
T = sum(path_segment / segment_straight_line) / n_segments
n_segments is the number of one second segments per trial</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ephysiopy.dacq2py.spikecalcs">
<span id="ephysiopy-dacq2py-spikecalcs-module"></span><h2>ephysiopy.dacq2py.spikecalcs module<a class="headerlink" href="#module-ephysiopy.dacq2py.spikecalcs" title="Permalink to this headline">¶</a></h2>
<p>A lot of the functionality here has been more generically implemented
in the ephys_generic.ephys_generic.SpikeCalcsGeneric class</p>
<dl class="class">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs">
<em class="property">class </em><code class="sig-prename descclassname">ephysiopy.dacq2py.spikecalcs.</code><code class="sig-name descname">SpikeCalcs</code><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Mix-in class for use with Tetrode class below.</p>
<p>Extends Tetrodes functionality by adding methods for analysis of spikes/
spike trains</p>
<p>Note lots of the methods here are native to dacq2py.axonaIO.Tetrode</p>
<p>Note that units are in milliseconds</p>
<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.clusterQuality">
<code class="sig-name descname">clusterQuality</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">fet=1</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.clusterQuality" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the L-ratio and Isolation Distance measures
calculated on the principal components of the energy in a spike matrix</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.getMeanWaveform">
<code class="sig-name descname">getMeanWaveform</code><span class="sig-paren">(</span><em class="sig-param">clusterA</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.getMeanWaveform" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the mean waveform and sem for a given spike train</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>clusterA</strong> (<em>int</em>) – The cluster to get the mean waveform for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>mn_wvs</strong> (<em>ndarray (floats) - usually 4x50 for tetrode recordings</em>) – the mean waveforms</p></li>
<li><p><strong>std_wvs</strong> (<em>ndarray (floats) - usually 4x50 for tetrode recordings</em>) – the standard deviations of the waveforms</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.getNSpikes">
<code class="sig-name descname">getNSpikes</code><span class="sig-paren">(</span><em class="sig-param">cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.getNSpikes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.getParam">
<code class="sig-name descname">getParam</code><span class="sig-paren">(</span><em class="sig-param">waveforms=None</em>, <em class="sig-param">param='Amp'</em>, <em class="sig-param">t=200</em>, <em class="sig-param">fet=1</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.getParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the requested parameter from a spike train as a numpy array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>- numpy array</strong> (<em>waveforms</em>) – Shape of array can be an nSpikes x nSamples
OR
a nSpikes x nElectrodes x nSamples</p></li>
<li><p><strong>- str</strong> (<em>param</em>) – <dl class="simple">
<dt>Valid values are:</dt><dd><p>’Amp’ - peak-to-trough amplitude (default)
‘P’ - height of peak
‘T’ - depth of trough
‘Vt’ height at time t
‘tP’ - time of peak (in seconds)
‘tT’ - time of trough (in seconds)
‘PCA’ - first n fet principal components (defaults to 1)</p>
</dd>
</dl>
</p></li>
<li><p><strong>- int</strong> (<em>fet</em>) – The time used for Vt</p></li>
<li><p><strong>- int</strong> – The number of principal components (used with param ‘PCA’)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.half_amp_dur">
<code class="sig-name descname">half_amp_dur</code><span class="sig-paren">(</span><em class="sig-param">cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.half_amp_dur" title="Permalink to this definition">¶</a></dt>
<dd><p>Half amplitude duration of a spike</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>A</strong> (<em>ndarray</em>) – An nSpikes x nElectrodes x nSamples array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>had</strong> – The half-amplitude duration for the channel (electrode) that has
the strongest (highest amplitude) signal. Units are ms</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.ifr_sp_corr">
<code class="sig-name descname">ifr_sp_corr</code><span class="sig-paren">(</span><em class="sig-param">clusterA</em>, <em class="sig-param">speed</em>, <em class="sig-param">minSpeed=2.0</em>, <em class="sig-param">maxSpeed=40.0</em>, <em class="sig-param">sigma=3</em>, <em class="sig-param">shuffle=False</em>, <em class="sig-param">nShuffles=100</em>, <em class="sig-param">minTime=30</em>, <em class="sig-param">plot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.ifr_sp_corr" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>clusterA: int</dt><dd><p>the cluster to do the correlation with speed</p>
</dd>
<dt>speed: np.array (1 x nSamples)</dt><dd><p>instantaneous speed</p>
</dd>
<dt>minSpeed: int</dt><dd><p>speeds below this value are ignored - defaults to 2cm/s as with
Kropff et al., 2015</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.mean_autoCorr">
<code class="sig-name descname">mean_autoCorr</code><span class="sig-paren">(</span><em class="sig-param">cluster</em>, <em class="sig-param">n=40</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.mean_autoCorr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the autocorrelation function mean from 0 to n ms (default=40)
Used to help classify units as principal or interneuron</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.p2t_time">
<code class="sig-name descname">p2t_time</code><span class="sig-paren">(</span><em class="sig-param">cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.p2t_time" title="Permalink to this definition">¶</a></dt>
<dd><p>The peak to trough time of a spike in ms</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cluster</strong> (<em>int</em>) – the cluster whose waveforms are to be analysed</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p2t</strong> – The mean peak-to-trough time for the channel (electrode) that has
the strongest (highest amplitude) signal. Units are ms</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.plotClusterSpace">
<code class="sig-name descname">plotClusterSpace</code><span class="sig-paren">(</span><em class="sig-param">clusters=None</em>, <em class="sig-param">param='Amp'</em>, <em class="sig-param">clusts=None</em>, <em class="sig-param">bins=256</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.plotClusterSpace" title="Permalink to this definition">¶</a></dt>
<dd><p>TODO: aspect of plot boxes in ImageGrid not right as scaled by range of
values now</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.smoothSpikePosCount">
<code class="sig-name descname">smoothSpikePosCount</code><span class="sig-paren">(</span><em class="sig-param">x1</em>, <em class="sig-param">npos</em>, <em class="sig-param">sigma=3.0</em>, <em class="sig-param">shuffle=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.smoothSpikePosCount" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a spike train the same length as num pos samples that has been
smoothed in time with a gaussian kernel M in width and standard deviation
equal to sigma</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x1</strong> (<em>np.array</em>) – The pos indices the spikes occured at</p></li>
<li><p><strong>npos</strong> (<em>int</em>) – The number of position samples captured</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – the standard deviation of the gaussian used to smooth the spike
train</p></li>
<li><p><strong>shuffle</strong> (<em>int</em>) – The number of seconds to shift the spike train by. Default None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>smoothed_spikes</strong> – The smoothed spike train</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.thetaBandMaxFreq">
<code class="sig-name descname">thetaBandMaxFreq</code><span class="sig-paren">(</span><em class="sig-param">x1</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.thetaBandMaxFreq" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the frequency with the max power in the theta band (6-12Hz)
of a spike trains autocorrelogram. Partly to look for differences
in theta frequency in different running directions a la Blair (Welday paper)</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.thetaModIdx">
<code class="sig-name descname">thetaModIdx</code><span class="sig-paren">(</span><em class="sig-param">x1</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.thetaModIdx" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates a theta modulation index of a spike train based on the cells
autocorrelogram</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x1</strong> (<em>np.array</em>) – The spike time-series</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>thetaMod</strong> – The difference of the values at the first peak and trough of the
autocorrelogram</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.thetaModIdxV2">
<code class="sig-name descname">thetaModIdxV2</code><span class="sig-paren">(</span><em class="sig-param">x1</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.thetaModIdxV2" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a simpler alternative to the thetaModIdx method in that it
calculates the difference between the normalized temporal autocorrelogram
at the trough between 50-70ms and the peak between 100-140ms over
their sum (data is binned into 5ms bins)</p>
<p>Measure used in Cacucci et al., 2004 and Kropff et al 2015</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.trial_av_firing_rate">
<code class="sig-name descname">trial_av_firing_rate</code><span class="sig-paren">(</span><em class="sig-param">cluster</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.trial_av_firing_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the trial average firing rate of a cluster in Hz</p>
</dd></dl>

<dl class="method">
<dt id="ephysiopy.dacq2py.spikecalcs.SpikeCalcs.xcorr">
<code class="sig-name descname">xcorr</code><span class="sig-paren">(</span><em class="sig-param">x1</em>, <em class="sig-param">x2=None</em>, <em class="sig-param">Trange=None</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.spikecalcs.SpikeCalcs.xcorr" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the histogram of the ISIs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>- 1d np.array list of spike times</strong> (<em>x1</em>) – </p></li>
<li><p><strong>-</strong><strong> (</strong><strong>optional</strong><strong>) </strong><strong>1d np.array of spike times</strong> (<em>x2</em>) – </p></li>
<li><p><strong>- 1x2 np.array for range of times to bin up. Defaults</strong> (<em>Trange</em>) – to [-500, +500]</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ephysiopy.dacq2py.tetrode_dict">
<span id="ephysiopy-dacq2py-tetrode-dict-module"></span><h2>ephysiopy.dacq2py.tetrode_dict module<a class="headerlink" href="#module-ephysiopy.dacq2py.tetrode_dict" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="ephysiopy.dacq2py.tetrode_dict.TetrodeDict">
<em class="property">class </em><code class="sig-prename descclassname">ephysiopy.dacq2py.tetrode_dict.</code><code class="sig-name descname">TetrodeDict</code><span class="sig-paren">(</span><em class="sig-param">filename_root</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#ephysiopy.dacq2py.tetrode_dict.TetrodeDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<dl class="method">
<dt id="ephysiopy.dacq2py.tetrode_dict.TetrodeDict.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param">E</em>, <span class="optional">]</span><em class="sig-param">**F</em><span class="sig-paren">)</span> &#x2192; None.  Update D from dict/iterable E and F.<a class="headerlink" href="#ephysiopy.dacq2py.tetrode_dict.TetrodeDict.update" title="Permalink to this definition">¶</a></dt>
<dd><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
In either case, this is followed by: for k in F:  D[k] = F[k]</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-ephysiopy.dacq2py.tintcolours">
<span id="ephysiopy-dacq2py-tintcolours-module"></span><h2>ephysiopy.dacq2py.tintcolours module<a class="headerlink" href="#module-ephysiopy.dacq2py.tintcolours" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ephysiopy.dacq2py">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-ephysiopy.dacq2py" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ephysiopy.ephys_generic.html" class="btn btn-neutral float-right" title="ephysiopy.ephys_generic package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ephysiopy.html" class="btn btn-neutral float-left" title="ephysiopy package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Robin Hayman

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>